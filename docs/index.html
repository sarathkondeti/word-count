<!DOCTYPE html>
<html>
<head>
    <title>Youtube word count</title>
</head>
<body>
    <h1>Find out how many times a word is said in a Youtube video.</h1>
    
    <label for="urlInput">Enter URL:</label>
    <input type="text" id="urlInput" placeholder="Enter a URL" style="min-width: 300px;">
    <button id="fetchButton">Fetch Data</button>
    
    <div id="output"></div>
    
    <script>
        document.getElementById('fetchButton').addEventListener('click', function() {
            const youtube_url = document.getElementById('urlInput').value;
            const outputDiv = document.getElementById('output');
            // Clear previous output
            outputDiv.innerHTML = '';
            
            // Define the rest api server hosted on aws (bound to change)
            const rest_server = 'http://ec2-3-231-47-95.compute-1.amazonaws.com:5000/';

            // Define the arguments as an object
            const args = {
                yt_url: youtube_url
            };

            // Convert the arguments object into a query string
            const queryString = Object.keys(args)
                .map(key => `${key}=${encodeURIComponent(args[key])}`)
                .join('&');

            // Append the query string to the base URL
            const url = `${baseUrl}?${queryString}`;


            // Make a GET request to the provided URL
            fetch(url)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(data => {
                    // Display the response data in the outputDiv
                    outputDiv.innerHTML = `<p>Response:</p><pre>${data}</pre>`;
                })
                .catch(error => {
                    outputDiv.innerHTML = `<p>Error: ${error.message}</p>`;
                });
        });
    </script>
</body>
</html>
